{
	"info": {
		"_postman_id": "17ad0602-3b1e-4cc2-9f3d-c18dc60a74d2",
		"name": "USER_MICRO",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "10306286"
	},
	"item": [
		{
			"name": "configuration",
			"item": [
				{
					"name": "dibezium",
					"item": [
						{
							"name": "Connector-Create",
							"item": [
								{
									"name": "dibezium-connector-kafka",
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"connector.class\": \"io.debezium.connector.postgresql.PostgresConnector\",\n\n  \"database.hostname\": \"postgres-user\",\n  \"database.port\": \"5432\",\n  \"database.user\": \"user\",\n  \"database.password\": \"userpass\",\n  \"database.dbname\": \"userdb\",\n\n  \"plugin.name\": \"pgoutput\",\n\n  \"topic.prefix\": \"user-service\",\n\n  \"table.include.list\": \"public.user_kafka_outbox\",\n\n  \"tombstones.on.delete\": \"false\",\n\n  \"transforms\": \"outbox\",\n  \"transforms.outbox.type\": \"io.debezium.transforms.outbox.EventRouter\",\n  \"transforms.outbox.route.by.field\": \"event_type\",\n  \"transforms.outbox.table.expand.json.payload\": \"true\",\n  \"transforms.outbox.table.field.event.payload\": \"payload\",\n  \"transforms.outbox.table.field.event.key\": \"aggregate_id\",\n  \"publication.autocreate.mode\": \"filtered\",\n  \"transforms.outbox.route.topic.replacement\": \"user.${routedByValue}\"\n}\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "http://localhost:8083/connectors/user-outbox-connector/config",
											"protocol": "http",
											"host": [
												"localhost"
											],
											"port": "8083",
											"path": [
												"connectors",
												"user-outbox-connector",
												"config"
											]
										},
										"description": "Generated from cURL: curl -X PUT http://localhost:8083/connectors/user-outbox-connector/config \\\n  -H \"Content-Type: application/json\" \\\n  -d @user-outbox-connector.json"
									},
									"response": []
								},
								{
									"name": "dibezium-connector-audit-outbox",
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"connector.class\": \"io.debezium.connector.postgresql.PostgresConnector\",\n\n  \"database.hostname\": \"postgres-outbox\",\n  \"database.port\": \"5432\",\n  \"database.user\": \"outbox\",\n  \"database.password\": \"outboxpass\",\n  \"database.dbname\": \"outboxdb\",\n\n  \"topic.prefix\": \"audit-service\",\n\n  \"plugin.name\": \"pgoutput\",\n\n  \"publication.autocreate.mode\": \"all_tables\",\n\n  \"table.include.list\": \"public.audit_outbox\",\n\n  \"slot.name\": \"audit_outbox_slot\",\n\n  \"tombstones.on.delete\": \"false\",\n\n  \"transforms\": \"outbox\",\n  \"transforms.outbox.type\": \"io.debezium.transforms.outbox.EventRouter\",\n  \"transforms.outbox.route.by.field\": \"event_type\",\n  \"transforms.outbox.table.expand.json.payload\": \"true\",\n  \"transforms.outbox.table.field.event.key\": \"aggregate_id\",\n  \"transforms.outbox.route.topic.replacement\": \"audit.${routedByValue}\"\n}\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "http://localhost:8083/connectors/audit-outbox-connector/config",
											"protocol": "http",
											"host": [
												"localhost"
											],
											"port": "8083",
											"path": [
												"connectors",
												"audit-outbox-connector",
												"config"
											]
										},
										"description": "Generated from cURL: curl -X PUT http://localhost:8083/connectors/user-outbox-connector/config \\\n  -H \"Content-Type: application/json\" \\\n  -d @user-outbox-connector.json"
									},
									"response": []
								}
							]
						},
						{
							"name": "Connector-Status",
							"item": [
								{
									"name": "user-outbox-connector/status",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://localhost:8083/connectors/user-outbox-connector/status",
											"protocol": "http",
											"host": [
												"localhost"
											],
											"port": "8083",
											"path": [
												"connectors",
												"user-outbox-connector",
												"status"
											]
										}
									},
									"response": []
								},
								{
									"name": "audit-outbox-connector/status",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://localhost:8083/connectors/audit-outbox-connector/status",
											"protocol": "http",
											"host": [
												"localhost"
											],
											"port": "8083",
											"path": [
												"connectors",
												"audit-outbox-connector",
												"status"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "elastic-search",
					"item": [
						{
							"name": "http://localhost:9200/_index_template/audit-template",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"index_patterns\": [\"audit-events-*\"],\n  \"template\": {\n    \"mappings\": {\n      \"properties\": {\n        \"userId\": { \"type\": \"keyword\" },\n        \"roles\": { \"type\": \"keyword\" },\n        \"authType\": { \"type\": \"keyword\" },\n        \"httpMethod\": { \"type\": \"keyword\" },\n        \"uri\": { \"type\": \"text\" },\n        \"clientIp\": { \"type\": \"ip\" },\n        \"executionTimeMs\": { \"type\": \"long\" },\n        \"timestamp\": { \"type\": \"date\" }\n      }\n    }\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:9200/_index_template/audit-template",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"_index_template",
										"audit-template"
									]
								},
								"description": "Generated from cURL: curl -X PUT \"http://localhost:9200/_index_template/audit-template\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"index_patterns\": [\"audit-events-*\"],\n  \"template\": {\n    \"mappings\": {\n      \"properties\": {\n        \"userId\": { \"type\": \"keyword\" },\n        \"roles\": { \"type\": \"keyword\" },\n        \"authType\": { \"type\": \"keyword\" },\n        \"httpMethod\": { \"type\": \"keyword\" },\n        \"uri\": { \"type\": \"text\" },\n        \"clientIp\": { \"type\": \"ip\" },\n        \"executionTimeMs\": { \"type\": \"long\" },\n        \"timestamp\": { \"type\": \"date\" }\n      }\n    }\n  }\n}'\n"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "http://localhost:9000/users/create",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "accept",
						"value": "*/*"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "\n  {\n    \"name\": \"test user\",\n    \"email\": \"test.example@gmail.com\",\n    \"password\": \"113942d\",\n    \"active\": true\n  }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:9000/user/create",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "9000",
					"path": [
						"user",
						"create"
					]
				},
				"description": "Generated from cURL: curl -X 'POST' \\\n  'http://localhost:9000/users/create' \\\n  -H 'accept: */*' \\\n  -H 'Content-Type: application/json' \\\n  -d '[\n  {\n    \"name\": \"string\",\n    \"email\": \"string\",\n    \"password\": \"string\",\n    \"active\": true\n  }\n]'"
			},
			"response": []
		},
		{
			"name": "http://localhost:9000/users/fetch/{id}",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "accept",
						"value": "*/*"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "[\n  {\n    \"name\": \"string\",\n    \"email\": \"string\",\n    \"password\": \"string\",\n    \"active\": true\n  }\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:9000/fetch/28535d14-6994-4bad-aaf1-d251508c9833",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "9000",
					"path": [
						"fetch",
						"28535d14-6994-4bad-aaf1-d251508c9833"
					]
				},
				"description": "Generated from cURL: curl -X 'POST' \\\n  'http://localhost:9000/users/create' \\\n  -H 'accept: */*' \\\n  -H 'Content-Type: application/json' \\\n  -d '[\n  {\n    \"name\": \"string\",\n    \"email\": \"string\",\n    \"password\": \"string\",\n    \"active\": true\n  }\n]'"
			},
			"response": []
		}
	]
}